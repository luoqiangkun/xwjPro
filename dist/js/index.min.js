var _createClass=function(){function n(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,a){return e&&n(t.prototype,e),a&&n(t,a),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Directseller=function(){function t(){_classCallCheck(this,t),this.state=-1,this.router={},this.data={},this._data(),this._router(),this._check()}return _createClass(t,[{key:"_data",value:function(){var e=this;$.request({type:"post",url:ApiUrl+"/index.php?ctl=Distribution_Directseller&met=info&typ=json",dataType:"json",async:!1,success:function(t){200===t.status&&(e.state=t.data.directseller_enable,e.data=t.data)}})}},{key:"_check",value:function(){-1<this.state?0===this.state||2===this.state?"result"!==this.router.path&&(window.location.href="/dist/views/result.html"):"result"!==this.router.path&&"apply"!==this.router.path&&"distributor"!==this.router.path&&"sharer"!==this.router.path||(window.location.href="/dist/views/home.html"):"apply"!==this.router.path&&"distributor"!==this.router.path&&"sharer"!==this.router.path&&(window.location.href="/dist/views/apply.html")}},{key:"_router",value:function(){var t=window.location,e="/dist/views/",a=void 0;if(t.pathname)switch(t.pathname){case e+"apply.html":a="apply";break;case e+"distributor.html":a="distributor";break;case e+"home.html":a="home";break;case e+"income.html":a="income";break;case e+"order.html":a="order";break;case e+"result.html":a="result";break;case e+"store.html":a="store";break;case e+"sharer.html":a="sharer";break;default:a="index"}var n={path:a,href:t.search,search:t.search};this.router=n}}]),t}(),directseller=new Directseller;!function(){if(document.getElementById("apply"))new Vue({el:"#apply",data:{},methods:{},created:function(){}})}(),function(){if(document.getElementById("distributor"))new Vue({el:"#distributor",data:{areaName:"",location:{},addressName:"",addressIndex:0,addressLists:[]},methods:{initBMapView:function(){var i=this,t=new BMap.Geolocation;new BMap.Geocoder;t.getCurrentPosition(function(t){if(this.getStatus()==BMAP_STATUS_SUCCESS){var e=new BMap.Map("baidu_map"),a=new BMap.Point(t.point.lng,t.point.lat);e.centerAndZoom(a,15);var n=new BMap.Marker(t.point);e.addOverlay(n),e.panTo(t.point),i.location={lat:t.point.lat,lng:t.point.lng},i.getLocateLists()}},{enableHighAccuracy:!0})},getLocateLists:function(){var e=this,t={location:this.location.lat+","+this.location.lng,area_name:this.areaName};$.request({type:"post",url:ApiUrl+"/index.php?ctl=Index&met=nearbyArea&typ=json",data:t,dataType:"json",success:function(t){e.addressLists=t.data.items}})},selectHandle:function(t,e){this.areaName=t.name,this.location=t.location,this.addressName=t.address,this.addressIndex=e,this.$refs.addressHeader.click()},submitHandle:function(){var t={area:this.areaName,latitude:this.location.lat,longitude:this.location.lng,address:this.addressName,directseller_type:1};$.request({type:"post",url:ApiUrl+"/index.php?ctl=Distribution_Directseller&met=apply&typ=json",data:t,dataType:"json",success:function(t){200===t.status||$.sDialog({skin:"red",content:t.msg,okBtn:!1,cancelBtn:!1})}})}},mounted:function(){$.animationLeft({valve:"#new-address-valve",wrapper:"#new-address-wrapper",scroll:""})},created:function(){this.initBMapView()}})}(),function(){if(document.getElementById("sharer"))new Vue({el:"#sharer",data:{},methods:{submitHandle:function(){$.request({type:"post",url:ApiUrl+"/index.php?ctl=Distribution_Directseller&met=apply&typ=json",data:{directseller_type:2},dataType:"json",success:function(t){200===t.status?window.location.href="/dist/views/result.html":$.sDialog({skin:"red",content:t.msg,okBtn:!1,cancelBtn:!1})}})}}})}(),function(){if(document.getElementById("result"))new Vue({el:"#result",data:{id:"",state:1,type:""},methods:{getData:function(){var e=this;$.request({type:"get",url:ApiUrl+"/index.php?ctl=Distribution_Directseller&met=info&typ=json",data:{apply_id:this.id},dataType:"json",success:function(t){e.state=t.data.apply_state,e.type=t.data.apply_type}})}},created:function(){this.state=directseller.state,this.type=directseller.data.directseller_type}})}(),function(){if(document.getElementById("home"))new Vue({el:"#home",data:{},methods:{storeRouterHandle:function(){window.location.href="/dist/views/store.html"},incomeRouterHandle:function(){window.location.href="/dist/views/income.html"},taskRouterHandle:function(){window.location.href="/dist/views/task.html"}},created:function(){this.type=directseller.data.directseller_type}})}(),function(){if(document.getElementById("income"))new Vue({el:"#income",data:{},methods:{commissionRouterHandle:function(){window.location.href="/dist/views/commission.html"},orderRouterHandle:function(){window.location.href="/dist/views/order.html"}},created:function(){}})}(),function(){if(document.getElementById("store"))new Vue({el:"#store",data:{},methods:{},created:function(){}})}(),function(){if(document.getElementById("commission"))new Vue({el:"#commission",data:{},methods:{},created:function(){}})}(),function(){if(document.getElementById("task"))new Vue({el:"#task",data:{},methods:{},created:function(){}})}(),function(){if(document.getElementById("order"))new Vue({el:"#order",data:{},methods:{},created:function(){}})}();